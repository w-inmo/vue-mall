(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ceb999f"],{"05c5":function(t,e,n){},"06c5":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("a630"),n("fb6a"),n("b0c0"),n("d3b7"),n("25f0"),n("3ca3");var r=n("6b75");function o(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},1773:function(t,e,n){"use strict";var r=n("b0e6"),o=n.n(r);o.a},"1c62":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("home-nav-bar"),n("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isTabFixed,expression:"isTabFixed"}],ref:"fixedTabControl",staticClass:"fixed-tab-control",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabClick}}),n("scroll",{ref:"scroll",staticClass:"content",attrs:{listenScroll:3,"pull-up-load":!0},on:{scroll:t.contentScroll,pullingUp:t.loadMore}},[n("home-swiper",{ref:"swiper",on:{swiperImageLoaded:t.calcCtlOffset}}),n("recommend-view",{attrs:{recommends:t.recommend},on:{recommendLoaded:t.calcCtlOffset}}),n("feature-view",{on:{featureLoaded:t.calcCtlOffset}}),n("tab-control",{ref:"tabControl",attrs:{titles:["流行","新款","精选"]},on:{tabClick:t.tabClick}}),n("goods-list",{attrs:{goods:t.showGoods}})],1),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowToTop,expression:"isShowToTop"}],nativeOn:{click:function(e){return t.backClick(e)}}})],1)},o=[],a=n("6b75");function i(t){if(Array.isArray(t))return Object(a["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var s=n("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return i(t)||c(t)||Object(s["a"])(t)||l()}var f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab-control"},t._l(t.titles,(function(e,r){return n("div",{key:r,staticClass:"tab-control-item",class:{active:r===t.currentIndex},on:{click:function(e){return t.tabClick(r)}}},[n("span",[t._v(t._s(e))])])})),0)},d=[],m={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{tabClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}},v=m,h=(n("a4c5"),n("2877")),p=Object(h["a"])(v,f,d,!1,null,"8ae02ee8",null),b=p.exports,g=n("5d17"),y=n("6d71"),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend"},t._l(t.recommends,(function(e,r){return n("a",{key:r,staticClass:"recommend-item",attrs:{href:e.link}},[n("img",{staticClass:"recommend-image",attrs:{src:e.image,onload:"$emit('recommendLoaded')"}}),n("p",{staticClass:"recommend-title"},[t._v(t._s(e.title))])])})),0)},C=[],S={name:"RecommendView",props:{recommends:{type:Array,default:function(){return[]}}}},x=S,$=(n("1773"),Object(h["a"])(x,w,C,!1,null,null,null)),_=$.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav-bar",{staticClass:"home-nav"},[n("div",{attrs:{slot:"nav-left"},slot:"nav-left"},[t._v("RE")]),n("input",{staticClass:"home-search",attrs:{slot:"nav-center",type:"text",placeholder:"输入搜索的内容"},slot:"nav-center"}),n("div",{attrs:{slot:"nav-right"},slot:"nav-right"},[t._v("FR")])])},T=[],k=n("f1d4"),A={name:"HomeNavBar",components:{NavBar:k["a"]}},j=A,I=(n("a149"),Object(h["a"])(j,O,T,!1,null,null,null)),L=I.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLoadPage?n("swiper",t._l(t.banners,(function(e,r){return n("swiper-item",{key:r},[n("img",{attrs:{src:e.image},on:{load:t.imageLoaded}})])})),1):t._e()},H=[],P=n("ace8"),R=n("09fc"),F={name:"HomeSwiper",data:function(){return{isLoadPage:!1,isImageLoaded:!1}},components:{Swiper:P["a"],SwiperItem:R["a"]},methods:{loadPage:function(t){this.banners=t,this.isLoadPage=!0},imageLoaded:function(){this.isImageLoaded||(this.$emit("swiperImageLoaded"),this.isImageLoaded=!0)}}},G=F,M=Object(h["a"])(G,E,H,!1,null,null,null),N=M.exports,B=n("c501"),U=n("eecb"),V=n("b383");function J(){return Object(V["a"])({url:"/home/baseData"})}function D(t,e){return Object(V["a"])({url:"/home/recommend",params:{type:"".concat(t)}})}function Y(t,e){var n=null;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];n&&clearTimeout(n),n=setTimeout((function(){return t(o)}),e)}}var q={name:"Home",mixins:[U["a"]],data:function(){return{banner:[],recommend:[],goods:{popular:{page:0,list:[]},new:{page:0,list:[]},choice:{page:0,list:[]}},goodsCurPage:"popular",tabOffsetTop:0,isTabFixed:!1,leaveScrollState:0}},components:{TabControl:b,Scroll:g["a"],GoodsList:y["a"],RecommendView:_,HomeNavBar:L,HomeSwiper:N,FeatureView:B["default"]},created:function(){this.getHomeMultidata(),this.getHomeGoods("popular"),this.getHomeGoods("new"),this.getHomeGoods("choice")},mounted:function(){var t=Y(this.$refs.scroll.refresh,50);this.$bus.$on("homeRecommendImageLoaded",(function(){return t()}))},computed:{showGoods:function(){return this.goods[this.goodsCurPage].list}},methods:{getHomeMultidata:function(){var t=this;J().then((function(e){t.banner=e.swiper,t.recommend=e.nav,t.$refs.swiper.loadPage(t.banner)}))},contentScroll:function(t){this.isShowToTop=t.y<-1e3,this.isTabFixed=-t.y>this.tabOffsetTop},getHomeGoods:function(t){var e=this;D(t).then((function(n){var r;(r=e.goods[t].list).push.apply(r,u(n)),e.$refs.scroll.finishPullUp()}))},tabClick:function(t){switch(console.log(),t){case 0:this.goodsCurPage="popular";break;case 1:this.goodsCurPage="new";break;case 2:this.goodsCurPage="choice"}this.$refs.tabControl.currentIndex=t,this.$refs.fixedTabControl.currentIndex=t},loadMore:function(){this.getHomeGoods(this.goodsCurPage)},calcCtlOffset:function(){this.tabOffsetTop=this.$refs.tabControl.$el.offsetTop-44}},activated:function(){this.$refs.scroll.refresh(),this.$refs.scroll.scrollTo(0,this.leaveScrollState,0)},deactivated:function(){this.$refs.scroll.refresh(),this.leaveScrollState=this.$refs.scroll.getScrollY()}},z=q,K=(n("e019"),Object(h["a"])(z,r,o,!1,null,"5deefa10",null));e["default"]=K.exports},2359:function(t,e,n){},"25f0":function(t,e,n){"use strict";var r=n("6eeb"),o=n("825a"),a=n("d039"),i=n("ad6d"),c="toString",s=RegExp.prototype,l=s[c],u=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=c;(u||f)&&r(RegExp.prototype,c,(function(){var t=o(this),e=String(t.source),n=t.flags,r=String(void 0===n&&t instanceof RegExp&&!("flags"in s)?i.call(t):n);return"/"+e+"/"+r}),{unsafe:!0})},"35f6":function(t,e,n){t.exports=n.p+"img/feature.5e535cfc.png"},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,o=n("69f3"),a=n("7dd0"),i="String Iterator",c=o.set,s=o.getterFor(i);a(String,"String",(function(t){c(this,{type:i,string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,n){"use strict";var r=n("0366"),o=n("7b0b"),a=n("9bdd"),i=n("e95a"),c=n("50c4"),s=n("8418"),l=n("35a1");t.exports=function(t){var e,n,u,f,d,m,v=o(t),h="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,g=void 0!==b,y=l(v),w=0;if(g&&(b=r(b,p>2?arguments[2]:void 0,2)),void 0==y||h==Array&&i(y))for(e=c(v.length),n=new h(e);e>w;w++)m=g?b(v[w],w):v[w],s(n,w,m);else for(f=y.call(v),d=f.next,n=new h;!(u=d.call(f)).done;w++)m=g?a(f,b,[u.value,w],!0):u.value,s(n,w,m);return n.length=w,n}},"6b75":function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},8964:function(t,e,n){},"9b11":function(t,e){},a149:function(t,e,n){"use strict";var r=n("05c5"),o=n.n(r);o.a},a4c5:function(t,e,n){"use strict";var r=n("8964"),o=n.n(r);o.a},a630:function(t,e,n){var r=n("23e7"),o=n("4df4"),a=n("1c7e"),i=!a((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:i},{from:o})},a64c:function(t,e,n){},b0c0:function(t,e,n){var r=n("83ab"),o=n("9bf2").f,a=Function.prototype,i=a.toString,c=/^\s*function ([^ (]*)/,s="name";r&&!(s in a)&&o(a,s,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},b0e6:function(t,e,n){},c501:function(t,e,n){"use strict";var r=n("e959"),o=n("edbc"),a=(n("d1e5"),n("2877")),i=Object(a["a"])(o["default"],r["a"],r["b"],!1,null,null,null);e["default"]=i.exports},d1e5:function(t,e,n){"use strict";var r=n("2359"),o=n.n(r);o.a},d28b:function(t,e,n){var r=n("746f");r("iterator")},ddb0:function(t,e,n){var r=n("da84"),o=n("fdbc"),a=n("e260"),i=n("9112"),c=n("b622"),s=c("iterator"),l=c("toStringTag"),u=a.values;for(var f in o){var d=r[f],m=d&&d.prototype;if(m){if(m[s]!==u)try{i(m,s,u)}catch(h){m[s]=u}if(m[l]||i(m,l,f),o[f])for(var v in a)if(m[v]!==a[v])try{i(m,v,a[v])}catch(h){m[v]=a[v]}}}},e019:function(t,e,n){"use strict";var r=n("a64c"),o=n.n(r);o.a},e01a:function(t,e,n){"use strict";var r=n("23e7"),o=n("83ab"),a=n("da84"),i=n("5135"),c=n("861d"),s=n("9bf2").f,l=n("e893"),u=a.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(f[e]=!0),e};l(d,u);var m=d.prototype=u.prototype;m.constructor=d;var v=m.toString,h="Symbol(test)"==String(u("test")),p=/^Symbol\((.*)\)[^)]+$/;s(m,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=v.call(t);if(i(f,t))return"";var n=h?e.slice(7,-1):e.replace(p,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e959:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"feature"},[r("a",{attrs:{href:"#"}},[r("h3",{staticClass:"feature-title"},[t._v("本周流行")]),r("img",{attrs:{src:n("35f6"),onlocd:"$emit('featureLoaded')"}})])])}]},edbc:function(t,e,n){"use strict";var r=n("9b11"),o=n.n(r);e["default"]=o.a},fb6a:function(t,e,n){"use strict";var r=n("23e7"),o=n("861d"),a=n("e8b5"),i=n("23cb"),c=n("50c4"),s=n("fc6a"),l=n("8418"),u=n("b622"),f=n("1dde"),d=n("ae40"),m=f("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),h=u("species"),p=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!m||!v},{slice:function(t,e){var n,r,u,f=s(this),d=c(f.length),m=i(t,d),v=i(void 0===e?d:e,d);if(a(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?o(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(f,m,v);for(r=new(void 0===n?Array:n)(b(v-m,0)),u=0;m<v;m++,u++)m in f&&l(r,u,f[m]);return r.length=u,r}})}}]);
//# sourceMappingURL=chunk-3ceb999f.12268a28.js.map