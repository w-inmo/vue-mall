(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2717b83b"],{"0475":function(t,e,a){},"159b":function(t,e,a){var s=a("da84"),i=a("fdbc"),n=a("17c2"),r=a("9112");for(var o in i){var c=s[o],l=c&&c.prototype;if(l&&l.forEach!==n)try{r(l,"forEach",n)}catch(u){l.forEach=n}}},"17c2":function(t,e,a){"use strict";var s=a("b727").forEach,i=a("a640"),n=a("ae40"),r=i("forEach"),o=n("forEach");t.exports=r&&o?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},"1d28":function(t,e,a){"use strict";var s=a("4db9"),i=a.n(s);i.a},"1ed2":function(t,e,a){"use strict";var s=a("8b64"),i=a.n(s);i.a},2054:function(t,e,a){"use strict";var s=a("a70a"),i=a.n(s);i.a},2737:function(t,e,a){"use strict";var s=a("0475"),i=a.n(s);i.a},3584:function(t,e,a){},4058:function(t,e,a){"use strict";var s=a("497f"),i=a.n(s);i.a},4160:function(t,e,a){"use strict";var s=a("23e7"),i=a("17c2");s({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"497f":function(t,e,a){},"4db9":function(t,e,a){},"4de4":function(t,e,a){"use strict";var s=a("23e7"),i=a("b727").filter,n=a("1dde"),r=a("ae40"),o=n("filter"),c=r("filter");s({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("159b");var s=a("ade3");function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"60e8":function(t,e,a){},"8b64":function(t,e,a){},"8ef9":function(t,e,a){"use strict";var s=a("f6a8"),i=a.n(s);i.a},9509:function(t,e,a){},"98c2":function(t,e,a){"use strict";var s=a("3584"),i=a.n(s);i.a},"9a30":function(t,e,a){"use strict";var s=a("ae61"),i=a.n(s);i.a},a70a:function(t,e,a){},ae61:function(t,e,a){},b64b:function(t,e,a){var s=a("23e7"),i=a("7b0b"),n=a("df75"),r=a("d039"),o=r((function(){n(1)}));s({target:"Object",stat:!0,forced:o},{keys:function(t){return n(i(t))}})},bea5:function(t,e,a){},dbb4:function(t,e,a){var s=a("23e7"),i=a("83ab"),n=a("56ef"),r=a("fc6a"),o=a("06cf"),c=a("8418");s({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){var e,a,s=r(t),i=o.f,l=n(s),u={},d=0;while(l.length>d)a=i(s,e=l[d++]),void 0!==a&&c(u,e,a);return u}})},dec7:function(t,e,a){"use strict";var s=a("9509"),i=a.n(s);i.a},e439:function(t,e,a){var s=a("23e7"),i=a("d039"),n=a("fc6a"),r=a("06cf").f,o=a("83ab"),c=i((function(){r(1)})),l=!o||c;s({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(t,e){return r(n(t),e)}})},ef25:function(t,e,a){"use strict";var s=a("bea5"),i=a.n(s);i.a},f17c:function(t,e,a){"use strict";var s=a("60e8"),i=a.n(s);i.a},f574:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail",attrs:{id:"detail"}},[a("detail-nav-bar",{ref:"detailNavbar",staticClass:"detail-navbar",on:{titleClick:t.titleClick}}),a("scroll",{ref:"scroll",staticClass:"content",attrs:{listenScroll:3},on:{scroll:t.contentScroll}},[a("detail-swiper",{ref:"swiper",attrs:{"top-images":t.detailData.banner}}),a("detail-buy-info",{attrs:{buy_info:t.buyInfo}}),a("detail-store-info",{attrs:{"store-info":t.detailData.seller}}),a("detail-item-params",{nativeOn:{click:function(e){t.isShowCover=!0}}}),a("detail-evaluate",{ref:"evaluate"}),a("detail-item-info",{ref:"itemInfo",attrs:{images:t.detailData.content},on:{detailImageLoaded:t.detailImageLoaded}}),a("detail-recommend-list",{ref:"recommend",attrs:{recommend:t.detailData.recommend}})],1),a("detail-bottom-bar",{on:{addToShopCart:t.addToShopCart}}),a("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShowToTop,expression:"isShowToTop"}],nativeOn:{click:function(e){return t.backClick(e)}}}),a("detail-cover",{directives:[{name:"show",rawName:"v-show",value:t.isShowCover,expression:"isShowCover"}],attrs:{coverData:t.detailData.detail},on:{hiddenCover:function(e){t.isShowCover=!1}}})],1)},i=[],n=a("5530"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav-bar",{staticClass:"detai-navbar"},[a("div",{staticClass:"nav-left-slot",attrs:{slot:"nav-left"},slot:"nav-left"},[a("div",{staticClass:"iconfont icon-back",on:{click:t.backClick}})]),a("ul",{staticClass:"title",attrs:{slot:"nav-center"},slot:"nav-center"},t._l(t.titles,(function(e,s){return a("li",{key:s,staticClass:"title-item",class:{active:s===t.currentIndex},on:{click:function(e){return t.titleClick(s)}}},[t._v(t._s(e))])})),0),a("div",{staticClass:"nav-right-slot",attrs:{slot:"nav-right"},slot:"nav-right"},[a("div",{staticClass:"iconfont icon-more"})])])},o=[],c=a("f1d4"),l={name:"DetailNavBar",data:function(){return{titles:["商品","评价","详情","推荐"],currentIndex:0,backBtn:null,menuBtn:null,titleBtn:null,btnOpc:.5,titleOpc:0}},components:{NavBar:c["a"]},methods:{titleClick:function(t){this.titleOpc&&(this.currentIndex=t,this.$emit("titleClick",t))},backClick:function(){this.$router.back()},changNavbar:function(t){this.backBtn||(this.backBtn=document.querySelector(".icon-back"),this.menuBtn=document.querySelector(".icon-more"),this.titleBtn=document.querySelector(".title")),t<=.5&&t>=0?(this.backBtn.style.backgroundColor="rgba(0, 0, 0, ".concat(this.btnOpc-t,")"),this.backBtn.style.color="rgba(255, 255, 255, ".concat(1-2*t,")"),this.menuBtn.style.backgroundColor="rgba(0, 0, 0, ".concat(this.btnOpc-t,")"),this.menuBtn.style.color="rgba(255, 255, 255, ".concat(1-2*t,")")):(this.backBtn.style.color="rgba(102, 102, 102, ".concat(2*t-1,")"),this.menuBtn.style.color="rgba(102, 102, 102, ".concat(2*t-1,")")),this.titleBtn.style.opacity="".concat(t),this.$el.style.backgroundColor="rgba(248, 248, 248, ".concat(t,")"),this.titleOpc=t},changNavbarNoTrans:function(t){return this.backBtn.style.color="rgba(102, 102, 102, ".concat(2*t-1,")"),this.menuBtn.style.color="rgba(102, 102, 102, ".concat(2*t-1,")"),this.titleBtn.style.opacity="".concat(t),this.$el.style.backgroundColor="rgba(248, 248, 248, ".concat(t,")"),this.titleOpc=t,!0},setCurIndex:function(t){-1!==t&&(this.currentIndex=t)}}},u=l,d=(a("8ef9"),a("2877")),f=Object(d["a"])(u,r,o,!1,null,"1c198495",null),v=f.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-swiper-wrap"},[t.isLoadedPage?a("swiper",t._l(t.topImages,(function(t,e){return a("swiper-item",{key:e},[a("img",{attrs:{src:t,alt:""}})])})),1):t._e()],1)},p=[],m=a("ace8"),_=a("09fc"),b={name:"DetailSwiper",data:function(){return{isLoadedPage:!1,curWidth:0}},props:{topImages:{type:Array,default:function(){return[]}}},components:{Swiper:m["a"],SwiperItem:_["a"]},methods:{onDataLoaded:function(){this.isLoadedPage=!0}},mounted:function(){this.curWidth=document.body.clientWidth,document.querySelector(".detail-swiper-wrap").style.height=this.curWidth+"px"}},C=b,g=(a("1ed2"),Object(d["a"])(C,h,p,!1,null,"5d41f8ee",null)),y=g.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-buy iconfont"},[a("h3",{staticClass:"detail-price"},[a("span",{staticClass:"detail-price-symbol"},[t._v("￥")]),t._v(t._s(t.buy_info.price))]),a("div",{staticClass:"detail-title"},[a("p",[a("span",{staticClass:"icon-tianmaotmall"}),t._v(t._s(t.buy_info.title))]),t._m(0)]),a("div",{staticClass:"detail-info"},[a("span",[t._v("快递: 包邮")]),a("span",[t._v("月销: "+t._s(t.buy_info.success))]),a("span",[t._v("发货地: 广东深圳")])])])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"detail-title-tip"},[a("i",{staticClass:"icon-fenxiang"}),t._v("分享")])}],k={name:"DetailBuyInfo",props:{buy_info:{type:Object,default:function(){return{}}}}},D=k,$=(a("dec7"),Object(d["a"])(D,w,O,!1,null,null,null)),I=$.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0!==Object.keys(t.storeInfo).length?a("div",{staticClass:"store-info",attrs:{id:"store_info"}},[a("div",{staticClass:"store-wrap"},[a("div",{staticClass:"store-info-wrap"},[a("div",{staticClass:"store-logo"},[a("img",{attrs:{src:t.storeInfo.logo,alt:""}})]),a("div",{staticClass:"store-title"},[a("h3",[t._v(t._s(t.storeInfo.title))]),t._m(0)])]),t._m(1)]),a("div",{staticClass:"store-score"},[a("p",{staticClass:"store-scpt"},[a("span",{staticClass:"store-scpt-text"},[t._v("宝贝描述")]),a("span",{staticClass:"store-scpt-score"},[t._v(" "+t._s(t.storeInfo.description)+" ")]),a("span",{staticClass:"store-scpt-level"},[t._v(t._s(t.getLevel(t.storeInfo.description)))])]),a("p",{staticClass:"store-service"},[a("span",{staticClass:"store-scpt-text"},[t._v("卖家服务")]),a("span",{staticClass:"store-scpt-score"},[t._v(" "+t._s(t.storeInfo.service)+" ")]),a("span",{staticClass:"store-scpt-level"},[t._v(t._s(t.getLevel(t.storeInfo.service)))])]),a("p",{staticClass:"store-express"},[a("span",{staticClass:"store-scpt-text"},[t._v("物流服务")]),a("span",{staticClass:"store-scpt-score"},[t._v(" "+t._s(t.storeInfo.express)+" ")]),a("span",{staticClass:"store-scpt-level"},[t._v(t._s(t.getLevel(t.storeInfo.express)))])])])]):t._e()},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"store-star-wrap"},[a("i",{staticClass:"iconfont icon-tianmaotmall"}),a("span",{staticClass:"store-star"},[t._v("综合体验指数: 5")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"store-goto"},[a("div",{staticClass:"store-all"},[t._v("全部宝贝")]),a("div",{staticClass:"store-to"},[t._v("进店逛逛")])])}],x={name:"DetailStoreInfo",props:{storeInfo:{type:Object,default:function(){return{}}}},methods:{getLevel:function(t){return t>=4.8?"高":"中"}}},E=x,B=(a("f17c"),Object(d["a"])(E,S,j,!1,null,"4731c2cc",null)),P=B.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"detail_item_info"}},[a("div",{staticClass:"item-info-title"},[t._v("商品详情")]),a("ul",{staticClass:"detail-image-wrap"},t._l(t.images,(function(e,s){return a("li",{key:s},[a("img",{staticClass:"detail-image",attrs:{src:e,alt:""},on:{load:t.imageLoaded}})])})),0)])},T=[],N={name:"DetailItemInfo",data:function(){return{imageLoadedCount:0}},props:{images:{type:Array,default:function(){return[]}}},methods:{imageLoaded:function(){++this.imageLoadedCount===this.images.length&&this.$emit("detailImageLoaded")}}},H=N,q=(a("9a30"),Object(d["a"])(H,L,T,!1,null,"6110635c",null)),A=q.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"goods-list-title"},[t._v("推荐商品")]),a("goods-list",{attrs:{goods:t.recommend}})],1)},J=[],R=a("6d71"),G={name:"DetailRecommendList",props:{recommend:{type:Array,default:function(){return[]}}},components:{GoodsList:R["a"]}},M=G,z=(a("ef25"),Object(d["a"])(M,W,J,!1,null,null,null)),F=z.exports,K=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item-params"},[a("span",[t._v("商品参数")]),a("span",[t._v("详情")])])}],U={name:"DetailItemParams",props:{params:{type:Object,default:function(){return{}}}}},V=U,X=(a("4058"),Object(d["a"])(V,K,Q,!1,null,null,null)),Y=X.exports,Z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-evaluate"},[a("span",[t._v("宝贝评价")]),a("span",[t._v("全部信息")])])}],et={name:"DetailEvaluate",props:{evaluate:{type:String,default:null}}},at=et,st=(a("1d28"),Object(d["a"])(at,Z,tt,!1,null,null,null)),it=st.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail__bottom-bar"},[a("div",{staticClass:"detail__bottom-bar_left iconfont"},[t._m(0),t._m(1),a("div",{staticClass:"detail__bottom_left-item",on:{click:t.goToShopCart}},[a("i",{staticClass:"icon-icon--"}),a("p",[t._v("购物车")])])]),a("div",{staticClass:"detail__bottom-bar_right"},[a("div",{staticClass:"detail__button_add-to-shop",on:{click:t.addToShop}},[t._v("加入购物车")]),a("div",{staticClass:"detail__button_now-buy"},[t._v("立即购买")])])])},rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail__bottom_left-item"},[a("i",{staticClass:"icon-kefuwangwang"}),a("p",[t._v("客服")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail__bottom_left-item"},[a("i",{staticClass:"icon-dianpu"}),a("p",[t._v("进店")])])}],ot=(a("ac1f"),a("5319"),{name:"DetailBottomBar",methods:{addToShop:function(){this.$emit("addToShopCart")},goToShopCart:function(){this.$router.replace("/shopping")}}}),ct=ot,lt=(a("2737"),Object(d["a"])(ct,nt,rt,!1,null,null,null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",[a("div",{staticClass:"detail__cover_bg"},[a("scroll",{staticClass:"content",attrs:{isBounce:!1}},[a("h4",{staticClass:"detail__cover_title"},[t._v("基本信息")]),a("ul",{staticClass:"detail__cover_content"},t._l(t.coverData,(function(e,s,i){return a("li",{key:i,staticClass:"detail__cover_row"},[a("p",{staticClass:"detail__cover_item"},[a("span",[t._v(t._s(s))]),a("span",[t._v(t._s(e))])])])})),0)]),a("div",{staticClass:"detail__cover_back",on:{click:t.hiddenCover}},[t._v("确定")])],1)])},ft=[],vt=a("5d17"),ht={name:"DetailCover",props:{coverData:{type:Object}},components:{Scroll:vt["a"]},methods:{hiddenCover:function(){this.$emit("hiddenCover")}}},pt=ht,mt=(a("2054"),Object(d["a"])(pt,dt,ft,!1,null,"a08f01c8",null)),_t=mt.exports,bt=a("3ed7"),Ct=a("eecb"),gt=a("b383");function yt(t){return Object(gt["a"])({url:"/detail",params:{id:t}})}var wt=a("2f62"),Ot={name:"Detail",mixins:[Ct["a"]],data:function(){return{detailData:{},swiperHeight:0,themePos:[0],id:null,isShowCover:!1}},components:{DetailNavBar:v,DetailSwiper:y,DetailBuyInfo:I,DetailStoreInfo:P,Scroll:vt["a"],DetailItemInfo:A,DetailRecommendList:F,DetailItemParams:Y,BackTop:bt["a"],DetailEvaluate:it,DetailBottomBar:ut,DetailCover:_t},created:function(){var t=this;this.id=this.$route.query.id,yt(this.id).then((function(e){t.detailData=e,t.$refs.swiper.onDataLoaded(),t.swiperHeight=t.$refs.swiper.curWidth}))},computed:{buyInfo:function(){return{title:this.detailData.title,price:this.detailData.price,success:this.detailData.success}}},methods:Object(n["a"])(Object(n["a"])({},Object(wt["b"])(["addShopCart"])),{},{contentScroll:function(t){t.y>=-this.swiperHeight&&t.y<=0&&this.getShowOpc(t.y);var e=parseInt(-t.y+this.$root.navbarHeight);e<this.themePos[1]?this.$refs.detailNavbar.setCurIndex(0):e<this.themePos[2]?this.$refs.detailNavbar.setCurIndex(1):e<this.themePos[3]?this.$refs.detailNavbar.setCurIndex(2):e>this.themePos[3]&&this.$refs.detailNavbar.setCurIndex(3),this.isShowToTop=t.y<-1e3},detailImageLoaded:function(){this.$refs.scroll.refresh(),this.themePos.push(this.$refs.evaluate.$el.offsetTop),this.themePos.push(this.$refs.itemInfo.$el.offsetTop),this.themePos.push(this.$refs.recommend.$el.offsetTop)},titleClick:function(t){this.$refs.scroll.scrollTo(0,-this.themePos[t]+this.$root.navbarHeight),t>0&&this.$refs.detailNavbar.changNavbar(1)},getShowOpc:function(t){this.$refs.detailNavbar.changNavbar(-Math.round(t/this.swiperHeight*100)/100)},addToShopCart:function(){var t=this;this.addShopCart({id:this.id,title:this.detailData.title,price:1*this.detailData.price,image:this.detailData.banner[0],seller:this.detailData.seller.title,isChecked:!0}).then((function(e){t.$toast.show(e,2e3)}))}})},kt=Ot,Dt=(a("98c2"),Object(d["a"])(kt,s,i,!1,null,"25b5c248",null));e["default"]=Dt.exports},f6a8:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2717b83b.deea0531.js.map